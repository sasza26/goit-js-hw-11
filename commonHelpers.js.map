{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getPictures(searchStr) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const API_KEY = '45476779-a37d3eb685934422065bcfa30';\n\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: searchStr.replace(/\\s+/g, '+'),\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n}\n","import 'izitoast/dist/css/iziToast.min.css';\nimport iziToast from 'izitoast';\n\nexport function showErrorMessage(message) {\n  iziToast.error({\n    title: 'Error',\n    message,\n  });\n}\n\nexport function createCard(image) {\n  return `\n    <div class=\"gallery-item\">\n      <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n        <img src=\"${image.webformatURL}\" alt=\"${\n    image.tags\n  }\" class=\"gallery-image\" />\n      </a>\n      <div class=\"item-info-block\">\n        ${createInfo('Likes', image.likes)}\n        ${createInfo('Views', image.views)}\n        ${createInfo('Comments', image.comments)}\n        ${createInfo('Downloads', image.downloads)}\n      </div>\n    </div>\n  `;\n}\n\nfunction createInfo(label, value) {\n  return `\n    <div class=\"block\">\n      <p class=\"title\">${label}</p>\n      <p class=\"amount\">${value}</p>\n    </div>\n  `;\n}\n\nexport function updateGallery(images) {\n  const galleryListEl = document.querySelector('.gallery');\n  galleryListEl.innerHTML = '';\n\n  const cardsHTML = images.map(image => createCard(image)).join('');\n  galleryListEl.insertAdjacentHTML('beforeend', cardsHTML);\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getPictures } from './js/pixabay-api.js';\nimport { updateGallery, showErrorMessage } from './js/render-functions.js';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n  overlay: true,\n  close: true,\n  className: 'custom-lightbox',\n});\n\nconst searchFormEl = document.querySelector('.js-search');\nconst galleryEl = document.querySelector('.gallery');\nconst loaderEl = document.querySelector('.loader');\n\nsearchFormEl.addEventListener('submit', event => {\n  event.preventDefault();\n\n  galleryEl.innerHTML = '';\n\n  const searchStr = event.target.elements.search.value.trim();\n\n  if (!searchStr) return;\n\n  loaderEl.classList.toggle('is-hidden');\n\n  getPictures(searchStr)\n    .then(images => {\n      if (!images.hits.length) {\n        showErrorMessage(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n        return;\n      }\n\n      updateGallery(images.hits);\n\n      lightbox.refresh();\n    })\n    .catch(error => {\n      showErrorMessage('Unknown error. Please try again!');\n      console.error(error);\n    })\n    .finally(() => {\n      loaderEl.classList.toggle('is-hidden');\n    });\n});\n"],"names":["getPictures","searchStr","BASE_URL","API_KEY","searchParams","response","showErrorMessage","message","iziToast","createCard","image","createInfo","label","value","updateGallery","images","galleryListEl","cardsHTML","lightbox","SimpleLightbox","searchFormEl","galleryEl","loaderEl","event","error"],"mappings":"6vBAAO,SAASA,EAAYC,EAAW,CACrC,MAAMC,EAAW,2BACXC,EAAU,qCAEVC,EAAe,IAAI,gBAAgB,CACvC,IAAKD,EACL,EAAGF,EAAU,QAAQ,OAAQ,GAAG,EAChC,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGC,CAAQ,IAAIE,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACpB,CAAG,CACH,CCfO,SAASC,EAAiBC,EAAS,CACxCC,EAAS,MAAM,CACb,MAAO,QACP,QAAAD,CACJ,CAAG,CACH,CAEO,SAASE,EAAWC,EAAO,CAChC,MAAO;AAAA;AAAA,iBAEQA,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAClCA,EAAM,IACP;AAAA;AAAA;AAAA,UAGOC,EAAW,QAASD,EAAM,KAAK,CAAC;AAAA,UAChCC,EAAW,QAASD,EAAM,KAAK,CAAC;AAAA,UAChCC,EAAW,WAAYD,EAAM,QAAQ,CAAC;AAAA,UACtCC,EAAW,YAAaD,EAAM,SAAS,CAAC;AAAA;AAAA;AAAA,GAIlD,CAEA,SAASC,EAAWC,EAAOC,EAAO,CAChC,MAAO;AAAA;AAAA,yBAEgBD,CAAK;AAAA,0BACJC,CAAK;AAAA;AAAA,GAG/B,CAEO,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAgB,SAAS,cAAc,UAAU,EACvDA,EAAc,UAAY,GAE1B,MAAMC,EAAYF,EAAO,IAAIL,GAASD,EAAWC,CAAK,CAAC,EAAE,KAAK,EAAE,EAChEM,EAAc,mBAAmB,YAAaC,CAAS,CACzD,CCrCA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,QAAS,GACT,MAAO,GACP,UAAW,iBACb,CAAC,EAEKC,EAAe,SAAS,cAAc,YAAY,EAClDC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAW,SAAS,cAAc,SAAS,EAEjDF,EAAa,iBAAiB,SAAUG,GAAS,CAC/CA,EAAM,eAAc,EAEpBF,EAAU,UAAY,GAEtB,MAAMpB,EAAYsB,EAAM,OAAO,SAAS,OAAO,MAAM,OAEhDtB,IAELqB,EAAS,UAAU,OAAO,WAAW,EAErCtB,EAAYC,CAAS,EAClB,KAAKc,GAAU,CACd,GAAI,CAACA,EAAO,KAAK,OAAQ,CACvBT,EACE,0EACV,EACQ,MACD,CAEDQ,EAAcC,EAAO,IAAI,EAEzBG,EAAS,QAAO,CACtB,CAAK,EACA,MAAMM,GAAS,CACdlB,EAAiB,kCAAkC,EACnD,QAAQ,MAAMkB,CAAK,CACzB,CAAK,EACA,QAAQ,IAAM,CACbF,EAAS,UAAU,OAAO,WAAW,CAC3C,CAAK,EACL,CAAC"}